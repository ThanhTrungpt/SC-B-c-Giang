<!doctype html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">

    <!-- Bootstrap -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.7/dist/css/bootstrap.min.css" rel="stylesheet">

    <!-- Icon Bootstrap -->
     <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.13.1/font/bootstrap-icons.min.css">

    <!-- Link to CSS -->
    <link rel="stylesheet" href="./Styles.css">
    <title>Phần mềm quản lý sửa chữa - Bệnh viện Đa khoa Bắc Giang</title>
    
  </head>
  <body class="p-3 m-0 border-0 bd-example m-0 border-0">
    <div id="mainApp" class="section">  
      <!-- Head Navbar -->
      <nav class="navbar navbar-expand-lg bg-body-tertiary">
        <div class="container-fluid">
          <span class="navbar-brand h1 text-primary " >
            <img src="https://drive.google.com/thumbnail?id=16gCExt-p9JflHcqZQ2nxWLDL65bpD-Tf&sz=s100" alt="Logo" width="40" height="40" class="d-inline-block align-text-top">
            Phần mềm quản lý sửa chữa - Bệnh viện Đa khoa Bắc Giang
          </span>
          
          <div class="collapse navbar-collapse justify-content-end" id="navbarScroll" >
            <span class="nav-item dropdown-center">
                <span class="nav-link dropdown-toggle" href="#" role="button" data-bs-toggle="dropdown" aria-expanded="false">
                  <span class="text-secondary " id="userName">User Name</span>
                  <img id="userAvatar" src="https://drive.google.com/thumbnail?id=1Y2obUC2vpgQLsD1JokCX8QY4olp3LjXe&sz=s100" alt="User Avatar" width="40" height="40"  class="user-avatar">
                </span>
                <ul class="dropdown-menu">
                  <li>
                    <a class="dropdown-item" href="#" onclick="refreshData()">
                      <i class="bi bi-arrow-clockwise text-primary" style="font-size: 1.5rem"></i>
                      Cập nhật dữ liệu</a></li>
                  <li><hr class="dropdown-divider"></li>
                  <li><a class="dropdown-item" href="#" data-bs-toggle="modal" data-bs-target="#editProfileModal">
                    <i class="bi bi-pencil-square text-primary" style="font-size: 1.5rem"></i>
                    Chỉnh sửa thông tin</a></li>
                  <li><a class="dropdown-item" href="#" data-bs-toggle="modal" data-bs-target="#changePasswordModal">
                    <i class="bi bi-file-lock2 text-primary" style="font-size: 1.5rem"></i>
                    Đổi mật khẩu</a></li>
                  <li><hr class="dropdown-divider"></li>
                  <li><a class="dropdown-item" href="#" onclick="logout()">
                    <i class="bi bi-box-arrow-right text-primary" style="font-size: 1.5rem"></i>
                    Đăng xuất</a></li>
                </ul>
            </span>
              
          </div>
        </div>
      </nav>

      <!-- Nút bấm, tìm kiếm -->
      <div class="container dashboard m-3">
        <div class="row mb-3">
          <div class="col-md-3">
            <button type="button" class="btn btn-success w-100" data-bs-toggle="modal" data-bs-target="#FormRepairModal">
              <i class="fas fa-plus me-2"></i>Thêm báo hỏng
            </button>
          </div>
          <div class="col-md-2 d-none d-md-block">
          </div>
          <div class="col-md-7">
            <div class="input-group">
              <input type="text" class="form-control" id="searchInput" placeholder="Nhập nội dung tìm kiếm...">
              <button class="btn btn-primary" type="button" onclick="searchRepair()">
                <i class="fas fa-search me-2"></i>Tìm kiếm
              </button>
              <button class="btn btn-secondary" type="button" onclick="cancelSearch()">
                <i class="fas fa-times me-2"></i>Hủy tìm kiếm
              </button>
            </div>
          </div>
        </div>

        <!-- Tabs -->
        <ul class="nav nav-pills mb-3 my-3" id="repairTabs" role="tablist">
          <li class="nav-item" role="presentation">
            <button class="nav-link active" id="tab-baohong" data-bs-toggle="pill" data-bs-target="#baohong" type="button" role="tab">
              Báo hỏng (0)
            </button>
          </li>
          <li class="nav-item" role="presentation">
            <button class="nav-link" id="tab-dangsua" data-bs-toggle="pill" data-bs-target="#dangsua" type="button" role="tab">
              Đang sửa (0)
            </button>
          </li>
          <li class="nav-item" role="presentation">
            <button class="nav-link" id="tab-baohanh" data-bs-toggle="pill" data-bs-target="#baohanh" type="button" role="tab">
              Bảo hành (0)
            </button>
          </li>
          <li class="nav-item" role="presentation">
            <button class="nav-link" id="tab-suangoai" data-bs-toggle="pill" data-bs-target="#suangoai" type="button" role="tab">
              Sửa ngoài (0)
            </button>
          </li>
        </ul>
        
        <!-- Tab content -->
        <div class="tab-content" id="repairTabsContent">
          <!-- Báo hỏng tab -->
          <div class="tab-pane fade show active" id="baohong" role="tabpanel">
            <table class="custom-table">
              <thead>
                <tr class="tb_header">
                  <th style="width: 10%;">STT</th>
                  <th style="width: 75%;">Nội dung</th>
                  <th style="width: 20%;">Hành động</th>
                </tr>
              </thead>
              <tbody id="history_baohong">
                <!-- Data will be populated dynamically -->
              </tbody>
            </table>
          </div>
          
          <!-- Đang sửa tab -->
          <div class="tab-pane fade" id="dangsua" role="tabpanel">
            <table class="custom-table">
              <thead>
                <tr class="tb_header">
                  <th style="width: 10%;">STT</th>
                  <th style="width: 75%;">Nội dung</th>
                  <th style="width: 20%;">Hành động</th>
                </tr>
              </thead>
              <tbody id="history_dangsua">
                <!-- Data will be populated dynamically -->
              </tbody>
            </table>
          </div>
          
          <!-- Bảo hành tab -->
          <div class="tab-pane fade" id="baohanh" role="tabpanel">
            <table class="custom-table">
              <thead>
                <tr class="tb_header">
                  <th style="width: 10%;">STT</th>
                  <th style="width: 75%;">Nội dung</th>
                  <th style="width: 20%;">Hành động</th>
                </tr>
              </thead>
              <tbody id="history_baohanh">
                <!-- Data will be populated dynamically -->
              </tbody>
            </table>
          </div>
          
          <!-- Sửa ngoài tab -->
          <div class="tab-pane fade" id="suangoai" role="tabpanel">
            <table class="custom-table">
              <thead>
                <tr class="tb_header">
                  <th style="width: 10%;">STT</th>
                  <th style="width: 75%;">Nội dung</th>
                  <th style="width: 20%;">Hành động</th>
                </tr>
              </thead>
              <tbody id="history_suangoai">
                <!-- Data will be populated dynamically -->
              </tbody>
            </table>
          </div>
        </div>
      </div>
    </div>
    </div> <!-- mainApp -->
    <nav class="navbar navbar-expand-lg bg-body-tertiary">
      <div class="container-fluid">
   
    <!-- Repair Modal -->
    <div class="modal fade" id="FormRepairModal" tabindex="-1" aria-labelledby="FormRepairModalLabel" aria-hidden="true">
      <div class="modal-dialog">
        <div class="modal-content">
          <div class="modal-header">
            <h1 class="modal-title fs-5" id="exampleModalLabel">Xem/Sửa/Thêm báo hỏng</h1>
            <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
          </div>
          <div class="modal-body">
            <form>
              <div class="mb-3">
                <label for="recipient-name" class="col-form-label">Recipient:</label>
                <input type="text" class="form-control" id="recipient-name">
              </div>
              <div class="mb-3">
                <label for="message-text" class="col-form-label">Message:</label>
                <textarea class="form-control" id="message-text"></textarea>
              </div>
            </form>
          </div>
          <div class="modal-footer">
            <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Close</button>
            <button type="button" class="btn btn-primary">Send message</button>
          </div>
        </div>
      </div>
    </div>

    <!-- Embed Script -->
    <script src="./main.gs"></script>

    <!-- Script of Bootstrap -->
     <script defer src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.7/dist/js/bootstrap.bundle.min.js"></script>
  </body>
</html>